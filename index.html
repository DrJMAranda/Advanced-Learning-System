<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>SEA~ALS - Structural Education System</title>
        <style>
            /* VROOGLY: GLOBAL ORDER AND STRUCTURAL MAP */
            
            /* Anti-Snellen Strategy: High contrast, dark background for monitor aesthetic. */
            body { margin: 0; padding: 0; background-color: #000; font-size: 16px; color: #00ff00; }
            
            /* VROOGLY: OUTER FLEXBOX (Ensures center stability) */
            .outer-flexbox { display: flex; justify-content: center; align-items: flex-start; min-height: 100vh; width: 100vw; overflow: hidden; }

            /* VROOGLY: INNER GRID (The Page's Topographical Map) */
            .inner-grid-container {
                display: grid;
                grid-template-columns: repeat(5, 1fr); 
                grid-template-rows: 0.2fr 1.8fr 1.8fr 0.6fr 0.6fr; /* Weighted rows */
                width: 100%;
                max-width: 1200px; 
                height: 100vh; 
            }

            /* VROOGLY: THE CENTRAL HOLON (VIEWMON CONTAINER - Old Monitor Aesthetic) */
            .viewmon-container {
                grid-column: 1 / span 5;
                grid-row: 2 / span 2; 
                background-color: #000;
                display: grid; 
                grid-template-columns: 1fr;
                /* VROOGLY: THE INTERNAL STACK WEIGHTING (6-Row Stack) */
                grid-template-rows: 
                    0.10fr /* 1. Controls Bar */
                    3fr    /* 2. VidMon Display (Highest Survival Priority) */
                    0.2fr  /* 3. Emphasis Log */
                    0.3fr  /* 4. Acceleration Log */
                    0.3fr  /* 5. Visual Dictionary */
                    0.3fr; /* 6. Notation Module */
                
                aspect-ratio: 16 / 9;
                width: 90%;
                margin: 0 auto;
                position: relative;
                
                /* VROOGLY: AESTHETIC INTEGRITY (Old Monitor Look) */
                border: 5px solid #333; border-radius: 8px; box-shadow: 0 0 15px rgba(0, 0, 0, 0.8); 
            }
            .vidmon-display::after {
                /* VROOGLY: SCANLINE EFFECT */
                content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
                background: repeating-linear-gradient(#00000000, #00000000 1px, #0a0a0a33 1px, #0a0a0a33 2px);
                opacity: 0.1; pointer-events: none; 
            }
            
            /* VROOGLY: THE ACTION HOLON (CONTROLS ROW - Fixed Distance/Size) */
            .controls-row {
                grid-row: 1; display: flex; justify-content: space-between; align-items: center;
                padding: 0 5px; width: 100%;
                gap: 10px; /* VROOGLY: ENFORCE 10PX FIXED SPACING (Structural Constancy) */
            }
            .control-btn {
                /* VROOGLY: STRUCTURAL BUDGET (335px / 5 = 67px) */
                width: 67px; height: 67px; 
                display: flex; justify-content: center; align-items: center;
                
                /* VROOGLY: ANTI-SNELLEN STRATEGY */
                background-color: #555; color: #fff; border: 2px solid #888; border-radius: 4px;
                font-weight: bold; cursor: pointer; box-shadow: inset 0 2px 4px rgba(0,0,0,0.5);
                font-size: 28px; 
            }

            /* VROOGLY: THE ACCELERATION LOG (3-Line Max Height) */
            .acceleration-log {
                grid-row: 4; background-color: #000; color: #00ff00; padding: 5px;
                max-height: calc(16px * 1.5 * 3); /* Enforces 3 lines height */
                overflow-y: auto; width: 20ch; font-family: 'Courier New', monospace;
                scrollbar-width: none; 
            }

            /* VROOGLY: TTM OUTPUT & LOGS (Monospace for Clarity) */
            .ttm-output { white-space: nowrap; flex-shrink: 0; font-family: 'Courier New', monospace; color: #00ff00; }

        </style>
    </head>
    <body>
        <div class="qa-overlay">...</div>

        <div class="outer-flexbox">
            <div class="inner-grid-container">
                
                <div class="metadata-row">
                    <div class="metadata-item id-registro">ID: G-1001</div>
                    <div class="metadata-item id-relacional">REL: M-45</div>
                </div>

                <div class="viewmon-container">
                    <div class="controls-row">
                        <button data-control="5" class="control-btn" title="Fast Forward/End">⏭</button>
                        <button data-control="2" class="control-btn" title="Restart/A">|◀</button>
                        <button data-control="3" class="control-btn" title="Rewind/B">⏪</button>
                        <button data-control="4" class="control-btn" title="Play/Acknowledge">▶</button>
                        <button data-control="1" class="control-btn" title="Exit/Eject">↩</button>
                    </div>

                    <div class="vidmon-display">
                        <video id="viewmon-video" controlsList="nodownload" disablepictureinpicture src="http://your.video.source/default.mp4" autoplay muted></video>
                        <div class="teachermon-cameo"></div> 
                    </div>
    
                    <div class="text-scrollbar-accent" style="grid-row: 3;">
                        <div class="accent-line" id="ccd-emphasis">- - ' - - '</div> 
                        <p id="accent-content">Accent Log: (1-line emphasis).</p>
                    </div>
                    
                    <div class="acceleration-log" style="grid-row: 4;">
                        <p>Log: TTM Efficiency Check engaged.</p>
                        <p>Log: Await next task marker.</p>
                    </div>

                    <div class="image-bar" id="image-flow-slot" style="grid-row: 5;">Image Flow (Visual Dictionary)</div>
                    
                    <div class="music-staff-bar" style="grid-row: 6;">Music Staff Notation Zone</div>

                </div>
                
                <div class="bottom-zone" style="display:flex; justify-content:space-between; padding: 10px; color:#00ff00;">
                    <div class="student-dashboard">... Dashboard Content ...</div>
                    <div class="ttm-output" id="ttm-output">L1: VID 00:00/05:00 PENDING | L2: ARIT INTENTOS 0 PUNT 0.00</div>
                    <div class="action-status-zone"><p id="feedback-message">Ready.</p></div>
                </div>
            </div>
        </div>
        
        <script>
            // --- JAVASCRIPT: THE INTELLIGENT ENTITY (IE) ---
            
            // 24. VROOGLY: DATA SCHEMA (GIT PENSUM - STRUCTURAL CONTRACT)
            const GIT_Module_Data = {
                video_url: "http://your.video.source/default.mp4",
                video_duration_sec: 300, 
                ttm_initial_status: "PENDING", 
                tasks: [
                    // VROOGLY: Each task is a structural challenge unit.
                    { id: 1, question: "Is 2x + 5 = 15 solved by x=5?", solution: "True", input_map: '4', validation_type: 'boolean', trigger_time_sec: 25, progression_jump: 15 },
                    { id: 2, question: "What is the perfect dx/dy angle?", solution: "B", input_map: '2', validation_type: 'multiple_choice', trigger_time_sec: 40, progression_jump: 20 },
                    { id: 3, question: "Does dx/dy represent a controlled slide?", solution: "False", input_map: '3', validation_type: 'boolean', trigger_time_sec: 60, progression_jump: 10 }
                ],
                image_flow_items: [
                    { text: "Controlled Glide", trigger_time_sec: 10 },
                    { text: "Blue Bird", trigger_time_sec: 25 }
                ]
            };

            // 25. VROOGLY: GLOBAL STATE
            let state = {
                isQuizActive: false, 
                currentTaskIndex: 0,
                attemptsCount: 0,
                score: 0.0, // Score 1.0 is required for progression.
                videoTimeFrozen: 0 
            };
            
            // VROOGLY: THE DIGITAL ACTIVATION MAP
            const KEY_MAPPING = {
                'Digit1': '1', 'Digit2': '2', 'Digit3': '3', 'Digit4': '4', 
                'Escape': '5' // VROOGLY: MAP ESCAPE TO EXIT BUTTON
            };
            
            // VROOGLY: PROGRESSION LOGIC (Simplified and Time-Efficient)
            const handleNextProgression = () => {
                const total = GIT_Module_Data.tasks.length;
                const video = document.getElementById('viewmon-video');

                if (state.currentTaskIndex < total) {
                    const currentTask = GIT_Module_Data.tasks[state.currentTaskIndex];
                    const jumpTime = currentTask.progression_jump || 0; 

                    // VROOGLY: ENFORCE TIME EFFICIENCY (Jump to next strategic point)
                    video.currentTime = Math.min(video.currentTime + jumpTime, video.duration); 

                    state.currentTaskIndex++;
                    state.score = 0.0; // VROOGLY: RESET ACKNOWLEDGEMENT STATE
                    
                    document.querySelector('[data-control="4"]').disabled = true; 
                    document.getElementById('feedback-message').textContent = `Task ${state.currentTaskIndex + 1} initiated.`;

                } else if (state.currentTaskIndex === total) {
                    document.getElementById('feedback-message').textContent = "MODULE COMPLETE. Structural Order Achieved.";
                    document.querySelector('[data-control="4"]').disabled = true; 
                    video.pause();
                }
            };
            
            // VROOGLY: CONTROL CLICK HANDLER (Action Holon Logic)
            const handleControlClick = (event) => {
                const controlNumber = event.currentTarget.dataset.control;
                const video = document.getElementById('viewmon-video');

                if (state.isQuizActive) { return; } 
                
                if (controlNumber === '4') { // PRIMARY ACTION
                    if (state.score === 1.0) {
                        handleNextProgression(); // Progression only executes if acknowledged
                    } else if (video.paused) {
                        video.play();
                    } else {
                        video.pause();
                    }
                } else if (controlNumber === '3') { // REWIND (Time Correction)
                    video.currentTime = Math.max(0, video.currentTime - 10); 
                } 
            };

            // VROOGLY: THE KEYBOARD BINDING (Eliminate the Negative)
            const handleGlobalKeyPress = (event) => {
                if (state.isQuizActive) return; 
                
                const mappedControl = KEY_MAPPING[event.code];
                if (mappedControl) {
                    const targetButton = document.querySelector(`[data-control="${mappedControl}"]`);
                    if (targetButton && !targetButton.disabled) {
                        targetButton.click(); 
                        event.preventDefault(); 
                    }
                }
            };
            
            // VROOGLY: INITIALIZATION
            document.addEventListener('DOMContentLoaded', () => {
                document.querySelectorAll('.control-btn').forEach(button => {
                    button.addEventListener('click', handleControlClick);
                });
                document.querySelector('[data-control="4"]').disabled = true;
                document.addEventListener('keydown', handleGlobalKeyPress);
                document.getElementById('viewmon-video').addEventListener('timeupdate', () => {
                    // Placeholder for syncSupportLayers logic
                });
            });
        </script>
    </body>
</html>
