<!DOCTYPE html>
<html lang="es">
<head>
Â  Â  <meta charset="UTF-8">
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0">
Â  Â  <title>SEA-ALSâ„¢</title>
Â  Â  <style>
Â  Â  Â  Â  body { font-family: 'Arial', sans-serif; background-color: #f4f4f9; color: #333; }
Â  Â  Â  Â  .container { max-width: 1100px; margin: 20px auto; }
Â  Â  Â  Â  h1 { text-align: center; color: #1e40af; font-size: 2.2em; margin-bottom: 5px; }
Â  Â  Â  Â  h2 { text-align: center; font-size: 1.2em; color: #3b82f6; margin-top: 5px; margin-bottom: 20px; }
Â  Â  Â  Â  .credits { text-align: center; font-size: 0.8em; color: #6b7280; margin-bottom: 10px; }
Â  Â  Â  Â  table { width: 100%; border-collapse: collapse; margin-top: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.1); background-color: white; }
Â  Â  Â  Â  th, td { border: 1px solid #ddd; padding: 8px 6px; text-align: center; }
Â  Â  Â  Â  th { background-color: #3b82f6; color: white; font-weight: bold; }
Â  Â  Â  Â Â 
Â  Â  Â  Â  /* Estilos para el estado binario */
Â  Â  Â  Â  .module-cell { cursor: pointer; background-color: #fff; transition: background-color 0.3s; }
Â  Â  Â  Â  .module-cell.state-0 { background-color: #d1d5db; color: #6b7280; cursor: default; }
Â  Â  Â  Â  .module-cell:hover:not(.state-0):not(.state-1) { background-color: #e0f2f1; }
Â  Â  Â  Â  .state-1 { background-color: #10b981; color: white; font-weight: bold; } /* Verde: Luz Conservada */
Â  Â  Â  Â  .locked { cursor: not-allowed; background-color: #ef4444 !important; color: white; animation: shake 0.5s; }
Â  Â  Â  Â  @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-5px); } 50% { transform: translateX(5px); } 75% { transform: translateX(-5px); } 100% { transform: translateX(0); } }
Â  Â  Â  Â  .context-cell { background-color: #e0f2f1; font-style: italic; font-size: 0.9em; cursor: default; }
Â  Â  </style>
</head>
<body>
Â  Â  <div class="container">
Â  Â  Â  Â  <h1>SEA-ALSâ„¢</h1>
Â  Â  Â  Â  <h2>JosÃ© M. Aranda, PhDÂ© | Email: SEA01ALS@gmail.com</h2>
Â  Â  Â  Â  <div class="credits">Developed and Programmed by ARAGEM</div>
Â  Â  Â  Â Â 
Â  Â  Â  Â  <table id="performanceTable">
Â  Â  Â  Â  Â  Â  <thead>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th rowspan="2">Arithmetic</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th colspan="6">Language</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th rowspan="2">Vocabulary</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th rowspan="2">Literature</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th rowspan="2">Exercises</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th rowspan="2">Songs</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Eng</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Spa</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Por</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Tag</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Fre</th>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <th>Dut</th>
Â  Â  Â  Â  Â  Â  Â  Â  </tr>
Â  Â  Â  Â  Â  Â  </thead>
Â  Â  Â  Â  Â  Â  <tbody>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="1"><td>U1S1</td><td class="module-cell state-1" data-subj="Arit_Ref">1</td><td class="module-cell state-1" data-subj="Eng">1</td><td class="module-cell state-1" data-subj="Spa">1</td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell state-1" data-subj="Vocb" data-seq="1">1</td><td class="module-cell state-1" data-subj="Lit">Justicia</td><td class="module-cell misc-cell state-1" data-subj="Ejer">1</td><td class="module-cell misc-cell state-1" data-subj="Mus">1</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="2"><td>U1S2</td><td class="module-cell state-1" data-subj="Arit_Ref">1</td><td class="module-cell state-1" data-subj="Eng">1</td><td class="module-cell state-1" data-subj="Spa">1</td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell state-1" data-subj="Vocb" data-seq="2">1</td><td class="module-cell state-1" data-subj="Lit">Constancia</td><td class="module-cell misc-cell state-1" data-subj="Ejer">1</td><td class="module-cell misc-cell state-1" data-subj="Mus">1</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="3"><td>U1S3</td><td class="module-cell state-1" data-subj="Arit_Ref">1</td><td class="module-cell state-1" data-subj="Eng">1</td><td class="module-cell state-1" data-subj="Spa">1</td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell state-1" data-subj="Vocb" data-seq="3">1</td><td class="module-cell state-1" data-subj="Lit">Responsabilidad</td><td class="module-cell misc-cell state-1" data-subj="Ejer">1</td><td class="module-cell misc-cell state-1" data-subj="Mus">1</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="4"><td>U2</td><td class="module-cell state-1" data-subj="Arit_Ref">1</td><td class="module-cell state-1" data-subj="Eng">1</td><td class="module-cell state-1" data-subj="Spa">1</td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell state-1" data-subj="Vocb" data-seq="4">1</td><td class="module-cell state-1" data-subj="Lit">Libertad</td><td class="module-cell misc-cell state-1" data-subj="Ejer">1</td><td class="module-cell misc-cell state-1" data-subj="Mus">1</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="5"><td>U3</td><td class="module-cell state-1" data-subj="Arit_Ref">1</td><td class="module-cell state-1" data-subj="Eng">1</td><td class="module-cell state-1" data-subj="Spa">1</td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell state-1" data-subj="Vocb" data-seq="5">1</td><td class="module-cell state-1" data-subj="Lit">Verdad</td><td class="module-cell misc-cell state-1" data-subj="Ejer">1</td><td class="module-cell misc-cell state-1" data-subj="Mus">1</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="6"><td>U4</td><td class="module-cell state-1" data-subj="Arit_Ref">1</td><td class="module-cell state-1" data-subj="Eng">1</td><td class="module-cell state-1" data-subj="Spa">1</td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell state-1" data-subj="Vocb" data-seq="6">1</td><td class="module-cell state-1" data-subj="Lit">Honestidad</td><td class="module-cell misc-cell state-1" data-subj="Ejer">1</td><td class="module-cell misc-cell state-1" data-subj="Mus">1</td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="7"><td>U5</td><td class="module-cell state-0" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="7"></td><td class="module-cell" data-subj="Lit">Resp. Personal</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="8"><td>U6</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="8"></td><td class="module-cell" data-subj="Lit">Servicio Com.</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="9"><td>U7</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="9"></td><td class="module-cell" data-subj="Lit">EmpatÃ­a</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="10"><td>U8</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="10"></td><td class="module-cell" data-subj="Lit">CooperaciÃ³n</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="11"><td>U9</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="11"></td><td class="module-cell" data-subj="Lit">Persistencia</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="12"><td>U10</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="12"></td><td class="module-cell" data-subj="Lit">Autodisciplina</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="13"><td>U11</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell state-0" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="13"></td><td class="module-cell" data-subj="Lit">Humildad</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="14"><td>U12</td><td class="module-cell" data-subj="Arit_Ref"></td><td class="module-cell" data-subj="Eng"></td><td class="module-cell state-0" data-subj="Spa"></td><td class="module-cell state-0" data-subj="Por"></td><td class="module-cell state-0" data-subj="Tag"></td><td class="module-cell state-0" data-subj="Fre"></td><td class="module-cell state-0" data-subj="Gua"></td><td class="module-cell" data-subj="Vocb" data-seq="14"></td><td class="module-cell" data-subj="Lit">Paciencia</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  Â  Â  <tr data-row-id="15"><td>U13</td><td class="module-cell" data-subj="Arit_Ref" data-is-final="true"></td><td class="module-cell" data-subj="Eng" data-is-final="true"></td><td class="module-cell" data-subj="Spa" data-is-final="true"></td><td class="module-cell state-0" data-subj="Por" data-is-final="true"></td><td class="module-cell state-0" data-subj="Tag" data-is-final="true"></td><td class="module-cell state-0" data-subj="Fre" data-is-final="true"></td><td class="module-cell state-0" data-subj="Gua" data-is-final="true"></td><td class="module-cell" data-subj="Vocb" data-seq="15"></td><td class="module-cell" data-subj="Lit" data-is-final="true">Conciencia</td><td class="module-cell misc-cell" data-subj="Ejer"></td><td class="module-cell misc-cell" data-subj="Mus"></td></tr>
Â  Â  Â  Â  Â  Â  </tbody>
Â  Â  Â  Â  </table>

Â  Â  Â  Â  <div id="iconContainer" style="text-align: center; margin-top: 15px; font-size: 2em; color: #1e40af; min-height: 40px;"></div>
        <div id="statusMessage" style="text-align: center; margin-top: 10px; color: #3b82f6;"></div>
Â  Â  </div>

Â  Â  <script>
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', () => {
Â  Â  Â  Â  Â  Â  const table = document.getElementById('performanceTable');
Â  Â  Â  Â  Â  Â  const statusDiv = document.getElementById('statusMessage');
Â  Â  Â  Â  Â  Â  const iconContainer = document.getElementById('iconContainer');Â 
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  // FunciÃ³n de ayuda: obtiene el estado binario (1 o "") de un HolÃ³n
Â  Â  Â  Â  Â  Â  function getEstado(id) {
Â  Â  Â  Â  Â  Â  Â  Â  const cell = document.getElementById(id);
Â  Â  Â  Â  Â  Â  Â  Â  if (!cell) return false;
Â  Â  Â  Â  Â  Â  Â  Â  return cell.classList.contains('state-1');
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  // --- ðŸš© FUNCIÃ“N DE LANZAMIENTO (LAUNCH_MODULE) - CORREGIDA Y FUNCIONAL ðŸš© ---
            function launchModule(rowId, subjId, cellId) {
                const BASE_URL_STORAGE = "https://storage.googleapis.com/noenbalde/";
                const BASE_FOLDERS = {
                    'Lit': 'Curriculum/Language/Literature/',
                    'Vocb': 'Curriculum/Language/Vocabulary/',
                    'Ejer': 'Curriculum/Wellness/Exercises/',
                    'Mus': 'Curriculum/Wellness/Music/',
                    'Eng': 'Curriculum/Mathematics/Arithmetic/',
                    'Spa': 'Curriculum/Mathematics/Arithmetic/',
                    'Por': 'Curriculum/Mathematics/Arithmetic/',
                    'Tag': 'Curriculum/Mathematics/Arithmetic/',
                    'Fre': 'Curriculum/Mathematics/Arithmetic/',
                    'Gua': 'Curriculum/Mathematics/Arithmetic/',
                    'Arit_Ref': 'Curriculum/Mathematics/Arithmetic/',
                };

                const cellElement = document.getElementById(cellId);
                const folderPath = BASE_FOLDERS[subjId] || 'Curriculum/';

                let fileCode = '';
                let rowTitleCell = document.querySelector(`tr[data-row-id="${rowId}"] > td:first-child`);
                let rowTitle = rowTitleCell ? rowTitleCell.textContent : ''; // U1S1, U2, U3, etc.

                if (['Eng', 'Spa', 'Por', 'Tag', 'Fre', 'Gua'].includes(subjId)) {
                    // LÃ³gica para Language: AP1 + rowTitle (U1S1, U2) + subjId (ENG) -> AP1U1S1ENG
                    const langCode = subjId.toUpperCase().substring(0, 3);
                    fileCode = `AP1${rowTitle}${langCode}`;

                } else if (subjId === 'Vocb') {
                    // LÃ³gica para Vocabulary: LV + data-seq (1, 2, 3...) -> LV1
                    const seq = cellElement.dataset.seq;
                    fileCode = `LV${seq}`;

                } else if (subjId === 'Lit') {
                    // LÃ³gica para Literature (Valores): Usa el nombre del valor directamente -> Justicia
                    fileCode = cellElement.textContent.split(' ')[0];

                } else if (subjId === 'Arit_Ref') {
                    // LÃ³gica para Arithmetic Reference: Usa el nombre de la fila directamente -> U1S1
                    fileCode = rowTitle;
                    
                } else if (['Ejer', 'Mus'].includes(subjId)) {
                    // LÃ³gica para Exercises y Music (usando la secuencia de Vocb como Ã­ndice)
                    // NOTA: Asume nombres de archivo EJER1.mp4, MUSI1.mp4, etc.
                    const seq = document.querySelector(`tr[data-row-id="${rowId}"] [data-subj="Vocb"]`).dataset.seq;
                    fileCode = `${subjId.toUpperCase().substring(0, 4)}${seq}`; 
                }

                // ðŸš€ LÃNEA DE CÃ“DIGO CLAVE PARA LA EVOCACIÃ“N (El Empuje del FotÃ³n) ðŸš€
                const filePath = `${BASE_URL_STORAGE}${folderPath}${fileCode}.mp4`;

                window.open(filePath, '_blank');
                statusDiv.textContent = `ðŸš€ Lanzamiento Exitoso: HolÃ³n ${cellId} evocado. Archivo: ${fileCode}.mp4. URL: ${filePath}`;
            }
Â  Â  Â  Â  Â  Â  // --- ðŸš© FIN DE LA FUNCIÃ“N DE LANZAMIENTO ðŸš© ---


Â  Â  Â  Â  Â  Â  // --- ðŸš© LÃ“GICA DEL GUARDIÃN DEL ORDEN (SIN CAMBIOS) ðŸš© ---
Â  Â  Â  Â  Â  Â  function toggleModuleState(cell) {
Â  Â  Â  Â  Â  Â  Â  Â  const rowId = parseInt(cell.parentElement.dataset.rowId);
Â  Â  Â  Â  Â  Â  Â  Â  const subjId = cell.dataset.subj;
Â  Â  Â  Â  Â  Â  Â  Â  const cellId = cell.id;

Â  Â  Â  Â  Â  Â  Â  Â  // Restricciones: No interactuar con celdas de contexto o de Referencia (solo lanzar si estÃ¡n en state-1)
Â  Â  Â  Â  Â  Â  Â  Â  if (cell.classList.contains('context-cell') || subjId === 'Arit_Ref' || subjId === 'Vocb' || subjId === 'Lit') {
                    if (getEstado(cellId)) { // Permite relanzar las celdas de contexto/referencia
                        launchModule(rowId, subjId, cellId);
                    }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;Â 
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // Si la celda estÃ¡ en estado 0 (Gris), significa VacÃ­o de Contenido y no es Lanzable/Activatable.
Â  Â  Â  Â  Â  Â  Â  Â  if (cell.classList.contains('state-0')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.textContent = `ðŸš« HolÃ³n ${cellId}: Contenido Ausente (Gris). No es lanzable.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // 1. Ya Rectificado (Luz Conservada) - Si ya estÃ¡ activo, lanzar de nuevo.
Â  Â  Â  Â  Â  Â  Â  Â  if (getEstado(cellId)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  iconContainer.innerHTML = 'âœ¨';Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => iconContainer.innerHTML = '', 500);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  launchModule(rowId, subjId, cellId);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  // --- V E R I F I C A C I Ã“ N ---

Â  Â  Â  Â  Â  Â  Â  Â  // A. Control de Linealidad (Axioma de la Linealidad - Eje X)
Â  Â  Â  Â  Â  Â  Â  Â  if (rowId > 1) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const previousRowId = rowId - 1;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const previousCellId = `A${previousRowId}_${subjId}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!getEstado(previousCellId)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('locked');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.textContent = `âŒ ERROR: ViolaciÃ³n de la Linealidad. MÃ³dulo anterior ${previousCellId} debe tener Luz Conservada (1).`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => cell.classList.remove('locked'), 1500);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // B. Control de Secuencia (Requisito Principal: Columna Lit/Valores y Arit_Ref en el mismo nivel)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const requiredLitId = `A${rowId}_Lit`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const requiredAritRefId = `A${rowId}_Arit_Ref`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!getEstado(requiredLitId)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('locked');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.textContent = `âŒ ERROR: Requiere RectificaciÃ³n de Valores/Lit (${requiredLitId}) en el mismo nivel para avanzar.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => cell.classList.remove('locked'), 1500);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (!getEstado(requiredAritRefId)) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('locked');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.textContent = `âŒ ERROR: Requiere RectificaciÃ³n de AritmÃ©tica (${requiredAritRefId}) en el mismo nivel para avanzar.`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => cell.classList.remove('locked'), 1500);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // C. ActivaciÃ³n Final (RectificaciÃ³n Lograda)
Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.remove('state-0');
Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.add('state-1');
Â  Â  Â  Â  Â  Â  Â  Â  cell.textContent = '1';
Â  Â  Â  Â  Â  Â  Â  Â  statusDiv.textContent = `âœ… Ã‰xito Binario: HolÃ³n ${cellId} activado (Luz Conservada). RectificaciÃ³n Lograda.`;

Â  Â  Â  Â  Â  Â  Â  Â  iconContainer.innerHTML = 'âœ¨';Â 
Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(() => iconContainer.innerHTML = '', 500);
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  // Lanzar el contenido inmediatamente despuÃ©s de la activaciÃ³n
Â  Â  Â  Â  Â  Â  Â  Â  launchModule(rowId, subjId, cellId);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // --- ðŸš© FIN DE LA LÃ“GICA DEL GUARDIÃN DEL ORDEN ðŸš© ---


Â  Â  Â  Â  Â  Â  // InicializaciÃ³n y poblamiento de la matrizÂ 
Â  Â  Â  Â  Â  Â  table.querySelectorAll('tbody tr').forEach(row => {
Â  Â  Â  Â  Â  Â  Â  Â  const rowId = row.dataset.rowId;
Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  row.querySelectorAll('.module-cell, .context-cell').forEach(cell => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const subjId = cell.dataset.subj;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const cellId = `A${rowId}_${subjId}`;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.id = cellId;Â 

Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (cell.classList.contains('module-cell')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.addEventListener('click', () => toggleModuleState(cell));
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Sincronizar el estado de la Matriz: 1 si activado, vacÃ­o si no.
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (cell.classList.contains('state-1')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.textContent = '1';
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else if (!cell.classList.contains('context-cell')) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Mantener vacÃ­o para el estado 0 (Blanco o Gris)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.textContent = '';Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  // Asegurar que las celdas de referencia no se vean afectadas por el clic
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (subjId === 'Arit_Ref' || subjId === 'Vocb' || subjId === 'Lit') {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  cell.classList.remove('module-cell');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  });

Â  Â  Â  Â  Â  Â  statusDiv.textContent = "El Ã­ndice se ha poblado y estÃ¡ gobernando.";
Â  Â  Â  Â  });
Â  Â  </script>
</body>Â 
</html>
