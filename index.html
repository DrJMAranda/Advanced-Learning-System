<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contents - Book 1</title>
    <style>
 body {
        font-family: 'Garamond', serif;
        line-height: 1;
        padding: 10px;
        background-color: #f4f4f4;
    }
    .toc-container {
        width: 50%;
        margin: 0 auto;
        background-color: #fff;
        padding: 10px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    h1 {
        color: #333;
        border-bottom: 2px solid #ccc;
        padding-bottom: 10px;
    }
    .toc-item {
        display: flex;
        align-items: flex-start;
        margin-bottom: 10px;
        padding: 10px;
        border: 1px solid #eee;
        border-radius: 5px;
        transition: background-color 0.3s;
    }
    .toc-item:hover {
        background-color: #f9f9f9;
    }
    /* CRITICAL: Enforcing 160x100px size for the caratula */
    .toc-image {
        width: 160px;
        height: 100px;
        margin-right: 10px;
        border-radius: 4px;
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        flex-shrink: 0;
    }

    /* NEW: Dedicated style for the smaller 'Zero' UI icon */
    .toc-zero-icon-img {
        width: 50px;         /* Smaller size for the icon */
        height: 50px;
        margin-right: 10px;
        border-radius: 50%;  /* Makes it round, like an icon */
        box-shadow: 2px 2px 5px rgba(0, 0, 0, 0.1);
        flex-shrink: 0;
    }

    .toc-link-text {
        flex-grow: 1;
    }
    .toc-link-text a {
        text-decoration: none;
        color: #0056b3;
        font-size: 1.em;
        font-weight: bold;
    }
    .toc-link-text p {
        font-size: 0.5em;
        color: #666;
        margin: 5px 0 0 0;
    }

        /* START: Video Modal Styles (The Separate Window) */
        .video-modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 50%;
            height: 50%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none; /* Hidden by default; JavaScript shows it as 'flex' */
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        .video-container {
            max-width: 50%;
            max-height: 50%;
            position: relative;
        }
        #myVideoElement {
            width: 50%;
            height: auto;
            display: block;
        }
        #closeVideoBtn {
            position: absolute;
            top: 20px;
            right: 20px;
            padding: 10px 15px;
            background-color: #f44336;
            color: white;
            border: none;
            cursor: pointer;
            font-size: 16px;
            border-radius: 4px;
        }
        /* END: Video Modal Styles */
    </style>
</head>
<body>

<div class="toc-item">
                <a href="#" class="video-activator toc-image-container" data-video-id="unidad1_inicio">
            <img 
                src="https://storage.googleapis.com/noenbalde/Car%C3%A1tulas/The%20Journey%20Begins.jpg" 
                alt="The Journey Begins Icon"
            >
        </a>
        <div class="toc-link-text">
            <a href="#" class="video-activator" data-video-id="unidad1_inicio">Section 1: The Journey Begins...</a>
            <p>Introducción a la estructura del curso y valores fundacionales.</p>
        </div>
    </div>

    <div class="toc-item">
                <a href="#" class="video-activator toc-image-container" data-video-id="unidad1_zero">
            <img src="https://storage.googleapis.com/noenbalde/Car%C3%A1tulas/Mr%20Sunya-Sifr%20Zero,%20The%20First%20Something!.jpg" alt="Carátula de Mr. Zero">
        </a>
        <div class="toc-link-text">
            <a href="#" class="video-activator" data-video-id="unidad1_zero">Sección 2: Mr. Zero, The First Something!</a>
            <p>Descubriendo el concepto de la nada y el poder de la posición (0-indexing).</p>
        </div>
    </div>

    <div class="toc-item">
                <a href="#" class="video-activator toc-image-container" data-video-id="unidad1_family">
            <span style="font-size: 1.5em; padding: 10px;">Missing Image</span>
        </a>
        <div class="toc-link-text">
            <a href="#" class="video-activator" data-video-id="unidad1_family">Sección 3: The Numerals!</a>
            <p>Introducción subliminal a la Base 10 y los números de dos dígitos.</p>
        </div>
    </div>
<div id="videoPlayerModal" class="video-modal-overlay">
    <div class="video-container">
        <video 
            id="myVideoElement" 
            controls 
            preload="auto"
            class="responsive-video-player"
        >
        </video>
        <button id="closeVideoBtn">Return to Menu (X)</button>
    </div>
</div>
<script>
    // A. VIDEO URL MAPPING (Using your confirmed GCS video URLs)
    const videoSources = {
        'unidad1_inicio': 'https://storage.googleapis.com/noenbalde/Giddyap/AP1U1S1%20Meet%20The%20Digits.mp4',
        'unidad1_zero': 'https://storage.googleapis.com/noenbalde/Giddyap/04%20AP1U1S2%20Counting%20through%20Four.mp4',
        'unidad1_family': 'https://storage.googleapis.com/noenbalde/Giddyap/AP1U1S3T5-9%20250928%202033%20TN.mp4',
    };

    // B. DOM ELEMENTS
    const videoPlayerModal = document.getElementById('videoPlayerModal');
    const videoElement = document.getElementById('myVideoElement');
    const closeVideoBtn = document.getElementById('closeVideoBtn');

    // C. THE CORE UX LOGIC: Launch and Return
    function closeVideoWindow() {
        videoElement.pause();
        videoElement.src = ""; // Clear the source
        videoPlayerModal.style.display = 'none'; // Hide the modal (Return to Menu)
    }

    function launchVideoWindow(url) {
        videoElement.src = url;
        videoPlayerModal.style.display = 'flex'; // Show the modal
        videoElement.play();

        // CRITICAL: Auto-return logic on video completion (Civic Value: A place and a time for everything)
        videoElement.onended = () => {
            console.log('Video finished. Auto-returning user to menu.');
            closeVideoWindow(); 
        };
    }

    // D. EVENT LISTENERS
    // 1. Icon/Text Click Activation
    document.querySelectorAll('.video-activator').forEach(iconLink => {
        iconLink.addEventListener('click', (event) => {
            event.preventDefault(); 
            const videoId = iconLink.getAttribute('data-video-id');
            const videoUrl = videoSources[videoId];

            if (videoUrl) {
                launchVideoWindow(videoUrl); 
            } else {
                // This will fire for sections 2 and 3 until you replace their GCS links
                console.error(`Error: Video URL for ID '${videoId}' is missing in the videoSources map. Proceeding with video launch (may fail).`);
                launchVideoWindow(videoUrl); // Attempt to launch, the browser may fail gracefully
            }
        });
    });

    // 2. Manual Close Button
    if (closeVideoBtn) {
        closeVideoBtn.addEventListener('click', closeVideoWindow);
    }
</script>
</body>
</html>
